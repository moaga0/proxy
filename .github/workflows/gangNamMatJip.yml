name: GangNamMatJip

on:
  workflow_dispatch:

jobs:
  fetch:
    runs-on: ubuntu-latest

    steps:
      - name: Prepare directory
        run: |
          mkdir -p result

      - name: Fetch HTML from target site
        run: |
          for ca in 2005; do
            for page in 0; do
              url="https://xn--939au0g4vj8sq.net/theme/go/_list_cmp_tpl.php?ca=${ca}&rpage=${page}&row_num=28"

              echo "Fetching: $url"

              curl -L \
                --connect-timeout 15 \
                --max-time 30 \
                -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)" \
                -H "Accept: text/html" \
                "$url" \
                -o "result/${ca}_${page}.html" || true

              sleep 2
            done
          done

      - name: Upload raw HTML
        uses: actions/upload-artifact@v4
        with:
          name: stylec-raw-html
          path: result
